<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <base href="/Supersystem/">
  <title>SafeShare · Saubere Links. Weniger Tracking.</title>
  <meta name="theme-color" content="#111111">
  <link rel="manifest" href="manifest.webmanifest?v=2025-11-13-01">
  <link rel="icon" href="assets/logo.png?v=2025-11-13-01">
  <style>
    :root{--bg:#0b0b0b;--fg:#eaeaea;--mut:#9a9a9a;--pri:#29c07e}
    html,body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
    .wrap{max-width:860px;margin:auto;padding:32px 16px}
    h1{font-size:28px;margin:0 0 8px}
    .mut{color:var(--mut)}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .btn{display:inline-block;padding:.8rem 1.1rem;background:var(--pri);color:#07130c;border:0;border-radius:10px;text-decoration:none;font-weight:600}
    .btn.alt{background:#1b1b1b;color:var(--fg);border:1px solid #2a2a2a}
    .card{background:#111;padding:16px;border:1px solid #1f1f1f;border-radius:12px}
    ul{margin:8px 0 0 18px}
    footer{margin-top:40px;font-size:13px;color:var(--mut)}
    input.code{flex:1;min-width:260px;padding:.6rem;border-radius:10px;border:1px solid #2a2a2a;background:#000;color:#eaeaea;font-family:ui-monospace,Menlo,Consolas,monospace}
  </style>
</head>
<body>
<div class="wrap">
  <h1>SafeShare</h1>
  <p class="mut">Saubere Links ohne UTM, gclid, fbclid und Co. Teilen ohne Ballast.</p>

  <div class="row" style="margin:16px 0 24px">
    <a class="btn" href="app.html">App starten</a>
    <!-- zeigt den Wrapper-Screen sicher an -->
    <a class="btn alt" href="redirect-entschachteln.html?wait=1&u=https%3A%2F%2Fexample.com">Beispiel-Share</a>
    <a class="btn alt" href="bookmarklets.html">Bookmarklets</a>
    <a class="btn alt" id="install" style="display:none">Auf Gerät installieren</a>
    <span id="ios-tip" class="mut" style="display:none">iOS: Teilen → „Zum Home-Bildschirm“</span>
  </div>

  <div class="card">
    <h3 style="margin:0 0 8px">So funktioniert’s</h3>
    <ul>
      <li>Link einfügen → „Säubern & öffnen“.</li>
      <li>Bookmarklet speichern für 1-Klick-Säuberung.</li>
      <li>Teilen über <code>redirect-entschachteln.html</code> mit kurzer Sponsor-Seite.</li>
    </ul>
  </div>

  <div class="card" style="margin-top:12px">
    <h3 style="margin:0 0 8px">Bookmarklet – sofort kopierbar</h3>
    <p class="mut">Desktop: Link kann gezogen werden (in der <a class="mut" href="bookmarklets.html">Bookmarklet-Seite</a>). Mobile: Code kopieren und in die URL eines Lesezeichens einsetzen.</p>
    <div class="row">
      <input id="bm1" class="code" readonly>
      <button class="btn alt" id="copyBm1">Kopieren</button>
    </div>
  </div>

  <div class="card" style="margin-top:12px">
    <h3 style="margin:0 0 8px">SafeShare Pro</h3>
    <ul>
      <li>Bulk-Cleaning</li>
      <li>Eigene Domain-Regeln</li>
      <li>PWA offline</li>
    </ul>
    <div class="row" style="margin-top:8px">
      <!-- ERSETZEN: deine Payhip-Links -->
      <a class="btn" href="https://payhip.com/" target="_blank" rel="noopener">Pro freischalten</a>
      <a class="btn alt" href="https://payhip.com/" target="_blank" rel="noopener">Mitglied werden</a>
    </div>
  </div>

  <footer>
    <a href="tools.html" class="mut">Tools</a> ·
    <a href="bookmarklets.html" class="mut">Bookmarklets</a> ·
    <a href="tests.html" class="mut">Tests</a> ·
    <a href="app.html" class="mut">App</a> ·
    <span>© SafeShare</span>
  </footer>
</div>

<script>
// Bookmarklet-Code (Clean & Open) generieren und kopierbar machen
(function(){
  const ROOT = new URL(document.querySelector('base').getAttribute('href'), location.origin).href;
  const STR = "javascript:location.href='"+ROOT+"redirect-entschachteln.html?u='+encodeURIComponent(location.href)";
  const input = document.getElementById('bm1'); input.value = STR;
  document.getElementById('copyBm1').onclick = async ()=>{
    try{ await navigator.clipboard.writeText(STR); document.getElementById('copyBm1').textContent='Kopiert'; }
    catch{ input.select(); document.execCommand('copy'); document.getElementById('copyBm1').textContent='Kopiert'; }
    setTimeout(()=>document.getElementById('copyBm1').textContent='Kopieren',1200);
  };
})();

// Install-Button: nur zeigen, wenn supported; iOS bekommt Hinweis
let deferredPrompt=null;
const installBtn=document.getElementById('install');
window.addEventListener('beforeinstallprompt', e=>{
  e.preventDefault(); deferredPrompt=e; installBtn.style.display='inline-block';
});
const isiOS=/iPad|iPhone|iPod/i.test(navigator.userAgent);
if(isiOS) document.getElementById('ios-tip').style.display='inline';
installBtn.addEventListener('click', async ()=>{
  if(!deferredPrompt) return;
  deferredPrompt.prompt(); await deferredPrompt.userChoice; deferredPrompt=null; installBtn.style.display='none';
});

// SW
if('serviceWorker' in navigator){
  navigator.serviceWorker.register('./sw.js?v=2025-11-13-01');
}
</script>
</body>
</html>
