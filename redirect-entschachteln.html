<!doctype html>
<html lang="de"><head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <base href="/Supersystem/"><title>Weiterleitung Â· SafeShare2</title>
</head>
<body>
<script>
function getParam(){
  const sp=new URL(location.href).searchParams;
  let v=sp.get('u')||sp.get('url')||sp.get('link')||'';
  for(let i=0;i<3;i++){ try{const d=decodeURIComponent(v); if(d===v) break; v=d;}catch{break;} }
  if(/^\/\//.test(v)) v='https:'+v;
  if(!/^[a-zA-Z][a-zA-Z0-9+.-]*:\/\//.test(v)) v='https://'+v;
  return v;
}
function clean(u){
  try{
    const x=new URL(u);
    const T=['utm_source','utm_medium','utm_campaign','utm_term','utm_content','utm_id','gclid','fbclid','msclkid','yclid','mc_cid','mc_eid','_hsenc','_hsmi','igshid','si','spm'];
    if(/amazon\./.test(x.hostname)){['tag','ascsubtag','ref','pf_rd_r','pf_rd_p'].forEach(k=>x.searchParams.delete(k)); x.hash='';}
    x.searchParams.forEach((_,k)=>{ if(/^utm_/.test(k)||T.includes(k)) x.searchParams.delete(k); });
    x.pathname=x.pathname.replace(/\/{2,}/g,'/'); if(x.pathname!=='/'&&x.pathname.endsWith('/')) x.pathname=x.pathname.slice(0,-1);
    return x.toString();
  }catch{return u}
}
const dst=clean(getParam()); location.replace(dst);
</script>
</body></html>
