# Changelog
Alle Änderungen an **SafeShare** in umgekehrter Chronologie. Format angelehnt an „Keep a Changelog“. Versionierung nach SemVer.

## [Unreleased]
- Geplante Erweiterungen:
  - Export/Import der Team-Whitelist (JSON)
  - „Embed-Button“ Dokumentation
  - Optionale Browser-Extensions (Chrome/Firefox)

---

## [1.0.0] – 2025-11-17
### Added
- **Startseite (`index.html`)** mit klaren CTAs: App starten, Bookmarklet, Pro kaufen.
- **App (`app.html`)** mit:
  - „Säubern & öffnen“, **Kopieren**, **Teilen** (mit Fallback), **Prüfen** (Analyse in neuem Tab).
  - Änderungsprotokoll („Was wurde geändert?“).
  - Eingabefeld `type="search"` → iOS-Lösch-„X“.
- **Bookmarklets (`bookmarklets.html`)**:
  - „SafeShare clean“ inkl. **Code kopieren** (iOS-freundlich) und Ziehen auf Desktop.
- **Pro-Funktionen**:
  - **Bulk-Cleaning** (`bulk-clean.html`): mehrere URLs in einem Durchlauf.
  - **Team-Setup** (`team-setup.html`): Publisher-Modus + Whitelist (lokal per `localStorage`).
  - **Aktivierung** (`pro-activate.html?pro=1`) setzt `localStorage:ss2_pro=1`.
  - **pro.html** mit Erläuterung und „Zur App“-Button.
- **Helfer/Tools**:
  - `tools.html`: Service-Worker abmelden, Caches löschen.
  - `status.html`: Umgebung/Registrierungen prüfen.
  - `tests.html`: realistische Testfälle.
- **Recht & SEO**:
  - `impressum.html`, `datenschutz.html` (netzwerk-frisch geladen).
  - `sitemap.xml`, `robots.txt`.
  - OG/Twitter-Metadaten auf `index.html`.
- **PWA**:
  - `manifest.webmanifest`, Icons (192/512).
  - iOS-Icons (`apple-touch-icon-120/152/167/180.png`).

### Changed
- **Service Worker**:
  - `sw.js` auf **Network-first für HTML** umgestellt; Legal-Seiten werden **nie gecacht**.
  - Registrierung zentralisiert in `js/sw-register.js` (keine Inline-Registration mehr).
- **Bookmarklet-UX**: „Name+Code kopieren“ → **„Code kopieren“** (klarer für iOS).
- **Basis-Pfade**: Einheitlich `<base href="/Supersystem/">` auf allen Seiten.
- **Strukturierung**: Kernlogik ausgelagert in `js/core.js`; Seitenskripte (`app.js`, `bulk-clean.js`, `bookmarklets.js`) verschlankt.

### Fixed
- **Endlos-Reload** nach SW-Update behoben: Version-Tag + `sessionStorage`-Sperre in `sw-register.js`.
- **Bookmarklets** renderten „Lade …“: fehlenden Render-Aufruf/ID korrigiert.
- **iOS-Clipboard**: Fallbacks (hidden `<textarea>` / `prompt`) ergänzt.
- **„Prüfen“** öffnet Analyse **immer**, unabhängig von vorherigem Säubern.
- **Amazon-Links**: Ref-/Tag-Parameter bereinigt; Hash entfernt, Pfade normalisiert.

### Removed
- Alte Inline-SW-Registrierungen in den HTML-Seiten.
- Veraltete Buttons/Varianten („1-Klick“, doppelte „Ergebnis öffnen“).

### Migration / Hinweise
- **Version bump**: `js/sw-register.js` und `sw.js` Versionsstring anheben.
- **Cache leeren**: `tools.html` → „Service Worker abmelden“ → „Alle Caches löschen“.
- **Lokale Einstellungen**:
  - `localStorage:ss2_pro` → Pro-Status (gerät-/profilbezogen).
  - `localStorage:ss_mode` (`'publisher'`) & `localStorage:ss_wl` → Team-Whitelist.
- **Payhip**: After-Purchase-Redirect = `pro-activate.html?pro=1`.

---

## Vor-Release-Highlights (2025-11-13 … 2025-11-16)
- SW-Reload-Fix (`controllerchange` mit Einmal-Sperre).
- Bookmarklet-Seite neu aufgebaut; Renderer/ID stabilisiert.
- iOS/Icon-Pfad + `<link rel="apple-touch-icon">` ergänzt.
- Legal-Seiten über Network-first erzwungen.

---

## Datei-Referenzen (Stand 1.0.0)

/index.html
/app.html
/bookmarklets.html
/bulk-clean.html
/team-setup.html
/redirect-entschachteln.html
/pro.html
/pro-activate.html
/tests.html
/impressum.html
/datenschutz.html
/status.html
/tools.html

/js/core.js
/js/app.js
/js/bulk-clean.js
/js/bookmarklets.js
/js/team-setup.js
/js/sw-register.js
/sw.js

/manifest.webmanifest
/robots.txt
/sitemap.xml
/assets/icons/*  (apple-touch-icon-*.png, icon-192.png, icon-512.png)

---

## [1.0.0]: https://j-ai-71.github.io/Supersystem/
  
