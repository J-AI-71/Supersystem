<!-- /Supersystem/og-make.html (noindex, internal tool) -->
<!doctype html>
<html lang="de">
<head>
  <!-- Basis -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <base href="/Supersystem/">
  <title>OG-Maker (intern) · SafeShare</title>
  <link rel="canonical" href="https://j-ai-71.github.io/Supersystem/og-make.html">
  <meta name="robots" content="noindex, nofollow, noarchive">

  <!-- OG/Twitter (rein informativ; Seite ist noindex) -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="SafeShare – OG-Maker">
  <meta property="og:description" content="Platzhalter-OG-Bild als 1200×630 generieren und speichern.">
  <meta property="og:url" content="https://j-ai-71.github.io/Supersystem/og-make.html">
  <meta property="og:image" content="https://j-ai-71.github.io/Supersystem/assets/og/og-index.jpg">

  <!-- PWA / Icons -->
  <link rel="manifest" href="manifest.webmanifest?v=20251122">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-touch-icon-180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/icon-32-kreis.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/icon-16-kreis.png">
  <meta name="theme-color" content="#0b0b0b">
  <meta name="color-scheme" content="light dark">

  <!-- Sicherheits-CSP (Inline-Script via Nonce) -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 base-uri 'self';
                 frame-ancestors 'none';
                 object-src 'none';
                 img-src 'self' data:;
                 style-src 'self' 'unsafe-inline';
                 script-src 'self' 'nonce-SSOG';
                 font-src 'self';
                 worker-src 'self';
                 manifest-src 'self';
                 connect-src 'self'">

  <!-- Styles -->
  <style>
    :root{--bg:#0b0b0b;--fg:#e9eef1;--mut:#aab6bf;--line:#26313a;--card:#0f141a;--pri:#2bd184}
    @media(prefers-color-scheme:light){
      :root{--bg:#ffffff;--fg:#0b0b0b;--mut:#5f6368;--line:#e2e8f0;--card:#f6f8fa;--pri:#22c07b}
    }
    html,body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
    .wrap{max-width:1100px;margin:0 auto;padding:24px}
    .mut{color:var(--mut)}
    .row{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:16px;margin-top:14px}
    label{display:block;margin:.3rem 0 .1rem}
    input[type="text"]{width:100%;max-width:520px;padding:10px;border-radius:10px;border:1px solid var(--line);background:#0d1319;color:var(--fg)}
    input[type="color"]{width:54px;height:34px;padding:0;border:1px solid var(--line);border-radius:8px;background:#0d1319}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid var(--line);background:#12181e;color:var(--fg);text-decoration:none;cursor:pointer}
    .btn.pri{background:var(--pri);border-color:transparent;color:#062012;font-weight:700}
    canvas{width:100%;height:auto;border:1px solid var(--line);border-radius:12px;background:#fff}
  </style>

  <!-- JS -->
  <script defer src="js/sw-register.js?v=20251122"></script>
  <script nonce="SSOG">
    document.addEventListener('DOMContentLoaded', () => {
      const c = /** @type {HTMLCanvasElement} */(document.getElementById('og'));
      const ctx = c.getContext('2d');
      const titleEl = document.getElementById('title');
      const subEl = document.getElementById('subtitle');
      const bg1El = document.getElementById('bg1');
      const bg2El = document.getElementById('bg2');

      function draw() {
        const W = 1200, H = 630;
        c.width = W; c.height = H;

        // Hintergrund: sanfter diagonaler Verlauf
        const g = ctx.createLinearGradient(0,0,W,H);
        g.addColorStop(0, bg1El.value);
        g.addColorStop(1, bg2El.value);
        ctx.fillStyle = g;
        ctx.fillRect(0,0,W,H);

        // Matte
        ctx.fillStyle = 'rgba(0,0,0,.18)';
        ctx.fillRect(40,40,W-80,H-80);

        // Titel
        ctx.fillStyle = '#ffffff';
        ctx.font = 'bold 72px Inter, Segoe UI, system-ui, Arial';
        ctx.textBaseline = 'top';
        wrapText(ctx, titleEl.value || 'SafeShare', 80, 90, W-160, 78);

        // Untertitel
        ctx.fillStyle = 'rgba(255,255,255,.88)';
        ctx.font = '400 36px Inter, Segoe UI, system-ui, Arial';
        wrapText(ctx, subEl.value || 'Saubere Links ohne Tracking – lokal im Browser.', 80, 330, W-160, 44);

        // Branding unten links
        ctx.font = '700 28px Inter, Segoe UI, system-ui, Arial';
        ctx.fillStyle = '#9fe7c3';
        ctx.fillText('SafeShare', 80, H-100);
        ctx.font = '400 22px Inter, Segoe UI, system-ui, Arial';
        ctx.fillStyle = 'rgba(255,255,255,.9)';
        ctx.fillText('j-ai-71.github.io/Supersystem', 80, H-64);
      }

      function wrapText(ctx, text, x, y, maxWidth, lineHeight){
        const words = text.split(' ');
        let line = '', yy = y;
        for (let n=0; n<words.length; n++){
          const test = line + words[n] + ' ';
          const w = ctx.measureText(test).width;
          if (w > maxWidth && n>0) {
            ctx.fillText(line, x, yy);
            line = words[n] + ' ';
            yy += lineHeight;
          } else {
            line = test;
          }
        }
        ctx.fillText(line, x, yy);
      }

      document.getElementById('render').addEventListener('click', draw);
      document.getElementById('save').addEventListener('click', () => {
        const a = document.createElement('a');
        a.download = 'og-index.jpg';
        a.href = c.toDataURL('image/jpeg', 0.92);
        a.click();
      });

      // Initial render
      draw();
    });
  </script>
</head>
<body>
  <div class="wrap">
    <h1>OG-Maker <span class="mut">(1200×630)</span></h1>
    <div class="card">
      <div class="row" style="gap:18px">
        <div>
          <label for="title">Titel</label>
          <input id="title" type="text" placeholder="SafeShare">
          <label for="subtitle">Untertitel</label>
          <input id="subtitle" type="text" placeholder="Saubere Links ohne Tracking – lokal im Browser.">
        </div>
        <div>
          <label for="bg1">Verlauf oben links</label>
          <input id="bg1" type="color" value="#0E1A24">
          <label for="bg2">Verlauf unten rechts</label>
          <input id="bg2" type="color" value="#1F7A55">
        </div>
      </div>
      <div class="row" style="margin-top:12px">
        <button id="render" class="btn">Neu rendern</button>
        <button id="save" class="btn pri">Als JPG speichern</button>
        <a class="btn" href="assets/og/og-index.jpg" download>Aktuelles OG-Bild laden</a>
      </div>
    </div>

    <div class="card" style="margin-top:14px">
      <canvas id="og" width="1200" height="630" aria-label="OG-Vorschau"></canvas>
    </div>

    <p class="mut">Hinweis: Diese interne Seite ist <strong>noindex</strong> und dient nur zum schnellen Erzeugen eines Platzhalterbilds.</p>
  </div>
  <noscript><div class="wrap"><div class="card">Bitte JavaScript aktivieren, um das OG-Bild zu generieren.</div></div></noscript>
</body>
</html>
