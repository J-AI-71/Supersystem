<!-- /Supersystem/assets-check.html -->
<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <base href="/Supersystem/"><title>Assets Check</title>
  <style>
    body{margin:0;background:#0b0b0b;color:#eaeaea;font:16px/1.6 system-ui}
    .wrap{max-width:860px;margin:auto;padding:24px}
    table{width:100%;border-collapse:collapse} th,td{border:1px solid #222;padding:8px}
    .ok{color:#29c07e;font-weight:700}.bad{color:#e05a5a;font-weight:700}
    img{height:40px;width:auto;vertical-align:middle}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Assets Check</h1>
    <table id="t"><thead><tr><th>Ressource</th><th>Ergebnis</th><th>Vorschau</th></tr></thead><tbody></tbody></table>
  </div>
  <script>
  const rows = [
    'assets/icons/icon-180-kreis.png',
    'assets/icons/icon-192-kreis.png',
    'assets/icons/icon-512-kreis.png',
    'assets/icons/icon-maskable-512-kreis.png',
    'assets/og.png'
  ];
  const tb=document.querySelector('#t tbody');
  rows.forEach(async p=>{
    const tr=document.createElement('tr'); tr.innerHTML=`<td>${p}</td><td>â€¦</td><td></td>`; tb.appendChild(tr);
    try{
      const r=await fetch(p+'?nocache='+Date.now(),{cache:'no-store'});
      if(r.ok){ tr.children[1].innerHTML='<span class="ok">PASS</span>'; const img=document.createElement('img'); img.src=p+'?nocache='+Date.now(); tr.children[2].appendChild(img);}
      else tr.children[1].innerHTML='<span class="bad">FAIL '+r.status+'</span>';
    }catch(e){ tr.children[1].innerHTML='<span class="bad">FAIL</span>'; }
  });
  </script>
</body>
</html>
