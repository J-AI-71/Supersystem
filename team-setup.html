<!doctype html>
<html lang="de">
<head>
  <!-- Basis -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <base href="/Supersystem/">
  <title>Team-Whitelist · SafeShare</title>
  <link rel="canonical" href="https://j-ai-71.github.io/Supersystem/team-setup.html">
  <meta name="robots" content="index,follow,max-image-preview:large">
  <meta name="description" content="Team-Whitelist: Erlaubte Parameter (z. B. Partner-IDs) zentral definieren. Gilt lokal im Browser für App, Bookmarklet und Bulk-Clean.">

  <!-- hreflang / Locale -->
  <link rel="alternate" hreflang="de" href="https://j-ai-71.github.io/Supersystem/team-setup.html">
  <link rel="alternate" hreflang="x-default" href="https://j-ai-71.github.io/Supersystem/team-setup.html">
  <meta property="og:locale" content="de_DE">

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Team-Whitelist – SafeShare">
  <meta property="og:description" content="Welche Parameter bleiben dürfen? Lokal definieren & anwenden.">
  <meta property="og:url" content="https://j-ai-71.github.io/Supersystem/team-setup.html">
  <meta property="og:image" content="https://j-ai-71.github.io/Supersystem/assets/og/og-index.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <!-- NEU: OG-Image -->
  <meta property="og:image" content="https://j-ai-71.github.io/Supersystem/assets/og/og-index.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  
  <!-- PWA / Icons -->
  <meta name="theme-color" content="#0b0b0b">
  <meta name="color-scheme" content="light dark">
  <link rel="manifest" href="manifest.webmanifest?v=31">
  <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon-180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/icon-32-kreis.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/icon-16-kreis.png">

  <!-- Sicherheits-CSP (ohne Inline-JS) -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; base-uri 'self'; frame-ancestors 'none'; object-src 'none';
                 img-src 'self' data:; style-src 'self' 'unsafe-inline';
                 script-src 'self';
                 font-src 'self'; worker-src 'self'; manifest-src 'self'; connect-src 'self'">

  <!-- JS -->
  <script defer src="js/sw-register.js?v=31"></script>
  <script defer src="js/team-setup.js?v=31"></script>

  <!-- Styles -->
  <style>
    :root{--bg:#0b0b0b;--fg:#e9e9ea;--mut:#a7a7ad;--card:#151518;--line:#20232b;--chip:#1b1f27;--pri:#23c47e}
    @media(prefers-color-scheme:light){
      :root{--bg:#ffffff;--fg:#0b0b0b;--mut:#5e5e66;--card:#f5f7fa;--line:#e1e7ef;--chip:#e9edf5}
    }
    html,body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
    a{color:inherit}
    .wrap{max-width:1000px;margin:0 auto;padding:24px}
    .mut{color:var(--mut)}
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:16px;margin:14px 0}
    .grid{display:grid;grid-template-columns:1fr;gap:14px}
    @media(min-width:980px){.grid{grid-template-columns:1.15fr .85fr}}
    .row{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid var(--line);background:#121417;color:var(--fg);text-decoration:none;cursor:pointer}
    .btn.pri{background:var(--pri);border-color:transparent;color:#062012;font-weight:700}
    input[type=text]{height:40px;border-radius:10px;border:1px solid var(--line);background:#0f1114;color:var(--fg);padding:0 12px}
    textarea{width:100%;min-height:130px;border-radius:12px;border:1px solid var(--line);background:#0f1114;color:var(--fg);padding:10px;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
    table{width:100%;border-collapse:collapse}
    th,td{padding:10px;border-top:1px solid var(--line);vertical-align:middle}
    th{text-align:left;color:var(--mut)}
    .pill{display:inline-block;background:var(--chip);border:1px solid var(--line);border-radius:999px;padding:6px 10px;margin:4px 6px 0 0}
    .pill code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
    .pill .x{margin-left:8px;cursor:pointer;opacity:.8}
    .badges{display:flex;gap:10px;flex-wrap:wrap;margin:8px 0}
    .badge{background:#101215;border:1px solid var(--line);border-radius:999px;padding:6px 10px;color:var(--mut);font-size:.92rem}
    footer{border-top:1px solid var(--line);margin-top:28px}
    footer .links{display:flex;flex-wrap:wrap;gap:10px;padding:14px 0}
    footer a{color:var(--mut);text-decoration:none}
    .skip{position:absolute;left:-9999px}
    .skip:focus{left:12px;top:12px;background:#fff;color:#000;padding:6px 10px;border-radius:8px}
  </style>
</head>
<body>
  <a class="skip" href="#main">Zum Inhalt springen</a>
  <div class="wrap" id="main">
    <h1>Team-Whitelist</h1>
    <p class="mut">Definiere Parameter, die beim Säubern erhalten bleiben sollen (z. B. <code>tag</code>, <code>ref</code>, <code>partner</code>). Gilt lokal im Browser für <a href="app.html">App</a>, <a href="bookmarklets.html">Bookmarklet</a> und <a href="bulk-clean.html">Bulk-Clean</a>.</p>

    <div class="grid">
      <!-- Verwaltung -->
      <section class="card">
        <h2>Parameter verwalten</h2>

        <div class="row" style="margin:6px 0 10px">
          <label for="param-input" class="mut">Neuer Parameter:</label>
          <input id="param-input" type="text" inputmode="latin" autocomplete="off" placeholder="z. B. tag oder ref" aria-label="Parametername">
          <button class="btn pri" id="btn-add">Hinzufügen</button>
          <button class="btn" id="btn-export">Exportieren</button>
          <button class="btn" id="btn-reset">Zurücksetzen</button>
        </div>

        <div id="pill-box" aria-live="polite" aria-label="Whitelist" style="margin-top:6px"></div>

        <div class="badges">
          <span class="badge">Einträge: <strong id="cnt">0</strong></span>
          <span class="badge">Speicherort: <code>localStorage</code></span>
          <span class="badge">Key: <code>ss_whitelist</code></span>
        </div>

        <h3 style="margin:18px 0 8px">Liste importieren</h3>
        <p class="mut">Kommagetrennt, Leerzeichen oder Zeilenumbrüche sind ok. Ungültige Namen werden ignoriert.</p>
        <textarea id="import-area" placeholder="tag, ref
partner_id
foo_bar"></textarea>
        <div class="row" style="margin-top:8px">
          <button class="btn pri" id="btn-import-merge">Importieren (zusammenführen)</button>
          <button class="btn" id="btn-import-replace">Importieren (ersetzen)</button>
        </div>
      </section>

      <!-- Hinweise -->
      <aside class="card">
        <h2>Hinweise & Geltung</h2>
        <ul>
          <li><strong>Geltung:</strong> Nur auf diesem Gerät/Browser (lokal).</li>
          <li><strong>Format:</strong> Kleinbuchstaben, Ziffern, Unterstrich, Bindestrich, Punkt (<code>a-z 0-9 _ - .</code>).</li>
          <li><strong>Beispiele:</strong> <code>tag</code>, <code>ref</code>, <code>partner</code>, <code>aff_id</code>.</li>
          <li><strong>Kompatibilität:</strong> Älterer Key <code>ss_team_whitelist</code> wird weiter gelesen.</li>
          <li><strong>Export:</strong> JSON zum Teilen im Team.</li>
        </ul>
        <p class="mut">Nach Änderungen empfehlen wir einen Kurztest in der <a href="app.html">App</a> oder mit <a href="bulk-clean.html">Bulk-Clean</a>.</p>
      </aside>
    </div>

    <footer>
      <nav class="links" aria-label="Footer">
        <a href="./">Startseite</a>
        <a href="app.html">App</a>
        <a href="bookmarklets.html">Bookmarklet</a>
        <a href="bulk-clean.html">Bulk-Clean</a>
        <a href="help.html">Hilfe</a>
        <a href="impressum.html">Impressum</a>
        <a href="datenschutz.html">Datenschutz</a>
        <a href="terms.html">Terms</a>
        <a href="kurz-terms.html">Kurz-Terms</a>
      </nav>
    </footer>
  </div>

  <noscript>
    <div class="wrap"><div class="card">JavaScript aktivieren, um die Team-Whitelist zu bearbeiten.</div></div>
  </noscript>
</body>
</html>
