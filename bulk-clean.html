<!doctype html>
<html lang="de">
<head>
  <!-- Basis -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <base href="/Supersystem/">
  <title>Bulk-Clean (Pro) · SafeShare</title>
  <link rel="canonical" href="https://j-ai-71.github.io/Supersystem/bulk-clean.html">
  <meta name="robots" content="index,follow,max-image-preview:large">
  <meta name="description" content="Bulk-Clean (Pro): Viele URLs in einem Rutsch bereinigen und als Liste/CSV weiterverwenden. Ideal für Redaktion, CRM und Kampagnen.">

  <!-- hreflang / Locale -->
  <link rel="alternate" hreflang="de" href="https://j-ai-71.github.io/Supersystem/bulk-clean.html">
  <link rel="alternate" hreflang="x-default" href="https://j-ai-71.github.io/Supersystem/bulk-clean.html">
  <meta property="og:locale" content="de_DE">

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Bulk-Clean (Pro) – SafeShare">
  <meta property="og:description" content="Viele URLs auf einmal säubern – schnell und lokal im Browser.">
  <meta property="og:url" content="https://j-ai-71.github.io/Supersystem/bulk-clean.html">
  <meta property="og:image" content="https://j-ai-71.github.io/Supersystem/assets/og/og-index.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <!-- PWA / Icons -->
  <meta name="theme-color" content="#0b0b0b">
  <meta name="color-scheme" content="light dark">
  <link rel="manifest" href="manifest.webmanifest?v=31">
  <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon-180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/icon-32-kreis.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/icon-16-kreis.png">

  <!-- Sicherheits-CSP (sanft) -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; base-uri 'self'; frame-ancestors 'none'; object-src 'none';
                 img-src 'self' data:; style-src 'self' 'unsafe-inline';
                 script-src 'self';
                 font-src 'self'; worker-src 'self'; manifest-src 'self'; connect-src 'self'">

  <!-- JS -->
  <script defer src="js/sw-register.js?v=31"></script>
  <!-- Falls vorhanden, zentrale Logik wiederverwenden -->
  <script defer src="js/cleaner.js?v=31"></script>
  <script defer src="js/bulk-clean.js?v=31"></script>

  <!-- Styles -->
  <style>
    :root{--bg:#0b0b0b;--fg:#eaeaea;--mut:#a6a6a6;--card:#141414;--line:#2b2b2b;--pri:#23c47e}
    @media (prefers-color-scheme: light){
      :root{--bg:#ffffff;--fg:#0b0b0b;--mut:#5f6368;--card:#f5f7fa;--line:#e2e8f0;--pri:#23c47e}
    }
    html,body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif}
    .wrap{max-width:1000px;margin:0 auto;padding:24px}
    .mut{color:var(--mut)}
    .grid{display:grid;grid-template-columns:1fr;gap:16px}
    @media(min-width:980px){.grid{grid-template-columns:1fr 1fr}}
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:16px}
    textarea{width:100%;min-height:240px;border-radius:12px;border:1px solid var(--line);background:#0f0f10;color:var(--fg);padding:12px;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
    .controls{display:flex;flex-wrap:wrap;gap:10px;margin:12px 0}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid var(--line);background:#151515;color:var(--fg);text-decoration:none;cursor:pointer}
    .btn.pri{background:var(--pri);border-color:transparent;color:#062012;font-weight:700}
    .badges{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
    .badge{background:#101010;border:1px solid var(--line);border-radius:999px;padding:6px 10px;font-size:0.92rem}
    label{display:inline-flex;align-items:center;gap:8px}
    input[type=checkbox]{transform:translateY(1px)}
    table{width:100%;border-collapse:collapse;margin-top:10px;font-size:.95rem}
    th,td{border-top:1px solid var(--line);padding:8px 6px;vertical-align:top}
    tfoot td{color:var(--mut)}
    footer{border-top:1px solid var(--line);margin-top:26px;padding-top:12px}
    footer a{color:var(--mut);text-decoration:none;margin-right:10px}
    .skip{position:absolute;left:-9999px}
    .skip:focus{left:12px;top:12px;background:#fff;color:#000;padding:6px 10px;border-radius:8px}
  </style>
</head>
<body>
  <a class="skip" href="#main">Zum Inhalt springen</a>
  <div class="wrap" id="main">
    <h1>Bulk-Clean (Pro)</h1>
    <p class="mut">Viele URLs in einem Rutsch säubern. Verarbeitung erfolgt lokal im Browser. Optional: erlaubte Parameter aus der <a href="team-setup.html">Team-Whitelist</a> beibehalten.</p>

    <div class="grid">
      <!-- Eingabe -->
      <section class="card">
        <h2>Eingabe</h2>
        <textarea id="src" placeholder="Eine URL pro Zeile einfügen oder Text mit Links. Beispiel:
https://example.com/?utm_source=newsletter&gclid=123
https://l.facebook.com/l.php?u=https%3A%2F%2Fbeispiel.de%2F%3Fref%3Dfriend&fbclid=xyz#top
https://www.google.com/url?q=https%3A%2F%2Fshop.tld%2Fprodukt%3Futm_campaign%3Dblackfriday&sa=D"></textarea>

        <div class="controls">
          <label><input type="checkbox" id="opt-unwrap" checked> Redirects entpacken</label>
          <label><input type="checkbox" id="opt-keep" checked> Team-Whitelist beibehalten</label>
          <label><input type="checkbox" id="opt-dedupe" checked> Duplikate entfernen</label>
        </div>

        <div class="controls">
          <button class="btn pri" id="btn-clean">Säubern</button>
          <button class="btn" id="btn-copy">Ergebnis kopieren</button>
          <button class="btn" id="btn-csv">CSV exportieren</button>
          <button class="btn" id="btn-clear">Zurücksetzen</button>
        </div>

        <div class="badges" id="stats">
          <span class="badge">Eingaben: <strong id="cnt-in">0</strong></span>
          <span class="badge">gültig: <strong id="cnt-valid">0</strong></span>
          <span class="badge">bereinigt: <strong id="cnt-clean">0</strong></span>
          <span class="badge">unverändert: <strong id="cnt-same">0</strong></span>
        </div>
      </section>

      <!-- Ausgabe -->
      <section class="card">
        <h2>Ergebnis</h2>
        <textarea id="dst" placeholder="Bereinigte URLs erscheinen hier …" readonly></textarea>
        <table aria-label="Zusammenfassung">
          <thead>
            <tr><th>Original</th><th>Bereinigt</th></tr>
          </thead>
          <tbody id="table-body">
            <tr><td colspan="2" class="mut">Noch keine Verarbeitung.</td></tr>
          </tbody>
          <tfoot>
            <tr><td colspan="2" class="mut">Tipp: CSV exportieren und direkt in Redaktions-/CRM-Listen übernehmen.</td></tr>
          </tfoot>
        </table>
      </section>
    </div>

    <section class="card">
      <h2>Hinweise</h2>
      <ul>
        <li>Typische Tracking-Parameter (<code>utm_*</code>, <code>gclid</code>, <code>fbclid</code>, <code>msclkid</code>, …) werden entfernt.</li>
        <li>Übliche Redirects (<code>t.co</code>, <code>l.facebook.com</code>, <code>google.com/url</code> u. a.) werden zum Klarziel entpackt.</li>
        <li>Team-Whitelist: erlaubte Parameter (z. B. <code>tag</code>, <code>ref</code>) in <a href="team-setup.html">team-setup</a> definieren.</li>
      </ul>
    </section>

    <footer>
      <nav>
        <a href="./">Startseite</a>
        <a href="app.html">App</a>
        <a href="bookmarklets.html">Bookmarklet</a>
        <a href="team-setup.html">Team-Whitelist</a>
        <a href="help.html">Hilfe</a>
        <a href="impressum.html">Impressum</a>
        <a href="datenschutz.html">Datenschutz</a>
      </nav>
    </footer>
  </div>

  <noscript>
    <div class="wrap"><div class="card">JavaScript aktivieren, um Listen zu bereinigen, zu kopieren und als CSV zu exportieren.</div></div>
  </noscript>
</body>
</html>
