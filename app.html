<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>SafeShare App – Tracking-Parameter aus Links entfernen</title>
  <!-- app.html -->
<meta name="description" content="SafeShare App: Füge einen Link ein und erhalte eine aufgeräumte Version ohne UTM-Parameter, fbclid, gclid & Co. Alles läuft lokal im Browser, ohne Tracking." />

  <!-- Canonical -->
  <link rel="canonical" href="https://j-ai-71.github.io/Supersystem/app.html" />

  <!-- Favicon / App-Icon -->
  <link rel="icon" href="https://j-ai-71.github.io/Supersystem/logo.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="https://j-ai-71.github.io/Supersystem/logo.svg" />
  <meta name="theme-color" content="#030712" />

  <!-- Open Graph / Social Preview -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="SafeShare" />
  <meta property="og:title" content="SafeShare App – Tracking-Parameter aus Links entfernen" />
  <meta property="og:description" content="Füge einen oder mehrere Links ein und erhalte eine aufgeräumte Version ohne unnötige Tracking-Parameter. Läuft lokal im Browser – kein Login, keine Cookies, keine Server-Logs." />
  <meta property="og:url" content="https://j-ai-71.github.io/Supersystem/app.html" />
  <meta property="og:image" content="https://j-ai-71.github.io/Supersystem/logo.svg" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="SafeShare App – Tracking-Parameter aus Links entfernen" />
  <meta name="twitter:description" content="Links sauber machen, bevor du sie teilst – ohne Konto, ohne Tracking, direkt im Browser." />
  <meta name="twitter:image" content="https://j-ai-71.github.io/Supersystem/logo.svg" />

  <!-- Google Search Console Verifikation -->
  <meta name="google-site-verification" content="3-mi6zLHRdFC14-RdTIF6GY90jKWfyLNLsFBhGLqQB0" />
  <meta name="msvalidate.01" content="B18ACE18875F9614DAA5CF69EED40ACE" />

  <!-- CSS der App einbinden: falls deine Datei anders heißt, hier nur den Dateinamen anpassen -->
  <link rel="stylesheet" href="styles.css" />
</head>

  <style>
    :root {
      color-scheme: dark;
      --bg: #050814;
      --bg-elevated: #080d1a;
      --fg: #f5f7ff;
      --fg-muted: #9aa5d4;
      --accent: #3fe0b5;
      --accent-soft: rgba(63, 224, 181, 0.18);
      --accent-blue: #15bbff;
      --border-subtle: rgba(148, 163, 199, 0.32);
      --danger: #ff6b81;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background:
        radial-gradient(circle at top, #101732 0, #050814 52%, #03040a 100%);
      color: var(--fg);
      -webkit-font-smoothing: antialiased;
    }

    a {
      color: var(--accent);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .shell {
      max-width: 1120px;
      margin: 0 auto;
      padding: 16px 16px 32px;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 10px 6px 8px;
      margin-bottom: 18px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 199, 0.38);
      background:
        linear-gradient(145deg, rgba(5, 8, 20, 0.9), rgba(8, 13, 26, 0.98));
      backdrop-filter: blur(14px);
    }

    .brand {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .brand-mark {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 30% 0, rgba(255, 255, 255, 0.18), transparent 55%),
        radial-gradient(circle at 0 100%, rgba(63, 224, 181, 0.4), transparent 60%),
        radial-gradient(circle at 100% 0, rgba(21, 187, 255, 0.35), transparent 65%),
        linear-gradient(145deg, #091426, #030711);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border: 1px solid rgba(148, 163, 199, 0.7);
      box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.9), 0 10px 22px rgba(0, 0, 0, 0.7);
    }

    .brand-mark span {
      font-size: 15px;
      font-weight: 700;
      color: var(--accent);
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      line-height: 1.1;
    }

    .brand-text strong {
      font-size: 15px;
    }

    .brand-text span {
      font-size: 11px;
      color: var(--fg-muted);
    }

    .nav {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 13px;
    }

    .nav a {
      color: var(--fg-muted);
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid transparent;
      text-decoration: none;
      white-space: nowrap;
    }

    .nav a:hover {
      border-color: rgba(148, 163, 199, 0.5);
      color: var(--fg);
      background: radial-gradient(circle at 0 0, rgba(63, 224, 181, 0.15), transparent 60%);
    }

    .nav a.is-active {
      color: #020617;
      background: linear-gradient(135deg, var(--accent), var(--accent-blue));
      border-color: rgba(63, 224, 181, 0.85);
      box-shadow: 0 10px 26px rgba(63, 224, 181, 0.45);
    }

    @media (max-width: 720px) {
      .top-bar {
        flex-direction: column;
        align-items: stretch;
        gap: 8px;
        border-radius: 18px;
      }
      .nav {
        justify-content: space-between;
        flex-wrap: wrap;
      }
    }

    main {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
      gap: 18px;
      align-items: flex-start;
    }

    @media (max-width: 880px) {
      main {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      padding: 18px 18px 16px;
      border-radius: 20px;
      border: 1px solid rgba(148, 163, 199, 0.45);
      background:
        radial-gradient(circle at 0 0, rgba(63, 224, 181, 0.2), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(21, 187, 255, 0.18), transparent 55%),
        linear-gradient(145deg, var(--bg-elevated), #050814);
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.7);
      font-size: 13px;
    }

    .card h1 {
      margin: 0 0 8px;
      font-size: 22px;
    }

    .card p {
      margin: 0 0 8px;
      color: var(--fg-muted);
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 9px 3px 4px;
      border-radius: 999px;
      border: 1px solid rgba(63, 224, 181, 0.45);
      background: radial-gradient(circle at 0 0, rgba(63, 224, 181, 0.32), transparent 65%);
      color: var(--fg-muted);
      font-size: 11px;
      margin-bottom: 10px;
    }

    .badge-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0, #befce6, #16a34a);
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.9), 0 0 18px rgba(34, 197, 94, 0.7);
    }

    .field-label {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      font-size: 12px;
      color: var(--fg-muted);
      margin-bottom: 4px;
    }

    .field-label span {
      opacity: 0.9;
    }

    .field-label small {
      font-size: 11px;
      opacity: 0.85;
    }

    textarea {
      width: 100%;
      min-height: 110px;
      resize: vertical;
      border-radius: 14px;
      border: 1px solid rgba(148, 163, 199, 0.5);
      background: rgba(3, 5, 14, 0.95);
      color: var(--fg);
      padding: 10px 11px;
      font-size: 13px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
    }

    textarea:focus {
      outline: none;
      border-color: rgba(63, 224, 181, 0.75);
      box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.9);
    }

    textarea[readonly] {
      background: radial-gradient(circle at 0 0, rgba(63, 224, 181, 0.12), rgba(3, 5, 14, 0.98));
    }

    .controls-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
      margin-bottom: 6px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 7px 12px;
      font-size: 13px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      text-decoration: none;
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-blue));
      color: #020617;
      box-shadow: 0 12px 30px rgba(63, 224, 181, 0.5);
    }

    .btn-primary:hover {
      box-shadow: 0 16px 40px rgba(63, 224, 181, 0.65);
    }

    .btn-ghost {
      background: rgba(15, 23, 42, 0.9);
      color: var(--fg-muted);
      border: 1px solid rgba(148, 163, 199, 0.6);
    }

    .btn-ghost:hover {
      border-color: rgba(148, 163, 199, 0.9);
      color: var(--fg);
    }

    .hint {
      font-size: 11px;
      color: var(--fg-muted);
      margin-top: 2px;
    }

    .side {
      padding: 16px 16px 14px;
      border-radius: 20px;
      border: 1px solid rgba(148, 163, 199, 0.35);
      background:
        radial-gradient(circle at 100% 0, rgba(21, 187, 255, 0.22), transparent 55%),
        linear-gradient(145deg, #050816, #02030a);
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.65);
      font-size: 13px;
    }

    .side h2 {
      margin: 0 0 8px;
      font-size: 16px;
    }

    .side p {
      margin: 0 0 8px;
      color: var(--fg-muted);
    }

    .side ul {
      margin: 0 0 8px 1.15rem;
      padding: 0;
      color: var(--fg-muted);
    }

    .side li {
      margin-bottom: 4px;
    }

    footer {
      margin-top: 26px;
      padding-top: 14px;
      border-top: 1px solid rgba(15, 23, 42, 0.9);
      font-size: 11px;
      color: var(--fg-muted);
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: space-between;
      align-items: center;
    }

    .footer-links {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .footer-links a {
      color: var(--fg-muted);
    }

    .footer-links a:hover {
      color: var(--fg);
    }
  </style>
</head>
<body>
  <div class="shell">
    <header class="top-bar">
      <a href="index.html" class="brand">
        <div class="brand-mark">
          <span>8</span>
        </div>
        <div class="brand-text">
          <strong>SafeShare</strong>
          <span>Links ohne Tracking</span>
        </div>
      </a>
      <nav class="nav" aria-label="Hauptnavigation">
        <a href="app.html" class="is-active">App</a>
        <a href="pro.html">Pro</a>
        <a href="utm-parameter-entfernen.html">UTM</a>
        <a href="tracking-parameter-entfernen.html">Tracking</a>
        <a href="url-cleaner-tool-vergleich.html">Tool-Vergleich</a>
        <a href="help.html">Hilfe</a>
      </nav>
    </header>

    <main>
      <section class="card">
        <div class="badge">
          <span class="badge-dot"></span>
          <span>SafeShare · Links im Browser bereinigen</span>
        </div>
        <h1>Tracking-Parameter aus einem Link entfernen</h1>
        <p>
          Füge hier einen Link ein. SafeShare entfernt typische Tracking-Parameter
          wie UTM, fbclid, gclid, <code>t_ref</code> (z. B. bei Bild) und weitere –
          lokal in deinem Browser.
        </p>

        <div>
          <div class="field-label">
            <span>Eingabe-Link</span>
            <small>komplette URL einfügen</small>
          </div>
          <textarea id="input-url" placeholder="https://www.beispiel.de/artikel?utm_source=newsletter&amp;fbclid=ABC123"></textarea>
          <div class="controls-row">
            <button id="btn-clean" class="btn btn-primary" type="button">
              Link bereinigen
            </button>
            <button id="btn-clear" class="btn btn-ghost" type="button">
              Eingabe &amp; Ergebnis leeren
            </button>
          </div>
        </div>

        <div style="margin-top:10px;">
          <div class="field-label">
            <span>Bereinigter Link</span>
            <small>ohne Tracking-Parameter</small>
          </div>
          <textarea id="output-url" readonly placeholder="Das Ergebnis erscheint hier."></textarea>
          <div class="controls-row">
            <button id="btn-copy" class="btn btn-primary" type="button">
              Ergebnis kopieren
            </button>
          </div>
          <div id="copy-status" class="hint"></div>
        </div>

        <p class="hint">
          Tipp: Wenn du SafeShare direkt aus dem Browser heraus verwenden möchtest,
          findest du unter <a href="bookmarklets.html">Bookmarklets</a> kleine Helfer
          für die Lesezeichenleiste.
        </p>

        <p class="hint">
          Hinweis: SafeShare kann bei einigen spezialisierten Redirect-Links versuchen, den eigentlichen Ziel-Link
          zu „entpacken“ (z. B. Google-Weiterleitungen, l.facebook.com).
        </p>
      </section>

      <aside class="side">
        <h2>Wie SafeShare bereinigt</h2>
        <p>
          SafeShare kennt eine Standardliste typischer Tracking-Parameter. Alles andere lässt es in Ruhe.
          Das ist bewusst konservativ, damit technische Parameter nicht versehentlich entfernt werden.
        </p>
        <ul>
          <li>UTM-Parameter: <code>utm_source</code>, <code>utm_medium</code>, <code>utm_campaign</code>, …</li>
          <li>Plattformspezifisches wie <code>fbclid</code>, <code>gclid</code>, <code>dclid</code>, <code>msclkid</code></li>
          <li>Newsletter-Tracking wie <code>mc_cid</code>, <code>mc_eid</code></li>
          <li>Typische Social-/App-IDs wie <code>igshid</code>, <code>si</code></li>
          <li><strong>Neu:</strong> <code>t_ref</code> (z. B. bei Bild-Links)</li>
        </ul>
        <p>
          Wenn du mit vielen Links und speziellen Parametern arbeitest, kannst du mit
          <a href="pro.html">SafeShare Pro</a> mehrere Links in einem Rutsch bereinigen
          und eigene Regeln definieren – ebenfalls lokal im Browser.
        </p>
      </aside>
    </main>

    <footer>
      <div>© 2025 Jana Jergus / SafeShare</div>
      <div class="footer-links">
        <a href="index.html">Start</a>
        <a href="help.html">Hilfe</a>
        <a href="datenschutz.html">Datenschutz</a>
        <a href="impressum.html">Impressum</a>
      </div>
    </footer>
  </div>

  <script>
    (function () {
      const inputEl = document.getElementById("input-url");
      const outputEl = document.getElementById("output-url");
      const btnClean = document.getElementById("btn-clean");
      const btnClear = document.getElementById("btn-clear");
      const btnCopy = document.getElementById("btn-copy");
      const copyStatus = document.getElementById("copy-status");

      const DEFAULT_TRACKING_PARAMS = [
        "utm_source",
        "utm_medium",
        "utm_campaign",
        "utm_term",
        "utm_content",
        "utm_id",
        "utm_referrer",
        "utm_name",
        "utm_creative",
        "fbclid",
        "gclid",
        "dclid",
        "msclkid",
        "mc_cid",
        "mc_eid",
        "igshid",
        "si",
        "vero_conv",
        "vero_id",
        "t_ref"
      ];

      function tryUnwrapRedirect(url) {
        try {
          const u = new URL(url);

          // typische Google-Redirects
          if (
            (u.hostname === "www.google.com" || u.hostname === "www.google.de") &&
            (u.pathname === "/url" || u.pathname === "/local_url")
          ) {
            const target = u.searchParams.get("q") || u.searchParams.get("url");
            if (target) return target;
          }

          // Facebook / l.facebook.com
          if (u.hostname === "l.facebook.com") {
            const target = u.searchParams.get("u");
            if (target) return target;
          }

          return url;
        } catch (e) {
          return url;
        }
      }

      function isTrackingParam(name) {
        const n = name.toLowerCase();
        if (DEFAULT_TRACKING_PARAMS.includes(n)) return true;
        if (n.startsWith("utm_")) return true;
        return false;
      }

      function cleanUrl(raw) {
        const trimmed = raw.trim();
        if (!trimmed) return "";

        let current = tryUnwrapRedirect(trimmed);

        try {
          const u = new URL(current);
          const newSearch = new URLSearchParams();

          for (const [key, value] of u.searchParams.entries()) {
            if (!isTrackingParam(key)) {
              newSearch.append(key, value);
            }
          }

          u.search = newSearch.toString();
          return u.toString();
        } catch (e) {
          return trimmed;
        }
      }

      function handleClean() {
        const input = inputEl.value || "";
        const result = cleanUrl(input);
        outputEl.value = result;
        copyStatus.textContent = "";
      }

      function handleClear() {
        inputEl.value = "";
        outputEl.value = "";
        copyStatus.textContent = "";
      }

      function handleCopy() {
        const value = outputEl.value || "";
        if (!value.trim()) {
          copyStatus.textContent = "Kein Ergebnis zum Kopieren.";
          return;
        }
        try {
          navigator.clipboard.writeText(value).then(
            () => {
              copyStatus.textContent = "Bereinigter Link wurde in die Zwischenablage kopiert.";
            },
            () => {
              copyStatus.textContent = "Konnte nicht automatisch kopieren – bitte manuell markieren & kopieren.";
            }
          );
        } catch (e) {
          copyStatus.textContent = "Konnte nicht automatisch kopieren – bitte manuell markieren & kopieren.";
        }
      }

      document.addEventListener("DOMContentLoaded", function () {
        btnClean.addEventListener("click", handleClean);
        btnClear.addEventListener("click", handleClear);
        btnCopy.addEventListener("click", handleCopy);

        // ?url= Parameter verarbeiten (für Bookmarklets)
        try {
          const current = new URL(window.location.href);
          const param = current.searchParams.get("url");
          if (param) {
            inputEl.value = decodeURIComponent(param);
            handleClean();
          }
        } catch (e) {
          // falls kaputt: App normal weiterlaufen lassen
        }
      });
    })();
  </script>
</body>
</html>
