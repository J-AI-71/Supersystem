<!doctype html><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>SafeShare – Link-Reiniger v24</title>
<h1>SafeShare – Link-Reiniger <small>v24</small></h1>

<textarea id=in style="width:100%;height:120px" placeholder="https://…?utm_source=…&gclid=…#…"></textarea><br>
<button id=clean>Säubern</button> <button id=open>Öffnen</button><br>
<textarea id=out readonly style="width:100%;height:120px" placeholder="Ergebnis erscheint hier…"></textarea>

<p>Bookmarklet:
  <a id="bm" href="#">UTM jetzt säubern</a>
</p>
<hr>
<p><a href="https://DEINE-GUMROAD-URL" target="_blank" rel="noopener">Pro unterstützen – 9 € / Jahr</a></p>

<script>
'use strict';
function cleanOne(s){try{var u=new URL(String(s).trim());var kill=['fbclid','gclid','mc_cid','mc_eid','igshid','vero_id','wickedid','msclkid'];Array.from(u.searchParams.keys()).forEach(function(k){if(k.indexOf('utm_')===0||kill.indexOf(k)>-1)u.searchParams.delete(k)});u.hash='';return u.toString()}catch(e){return String(s).trim()}}
function run(){out.value=cleanOne(in.value)}
function auto(){var p=new URLSearchParams(location.search);var q=p.get('u')||p.get('url');var go=p.get('go')==='1';if(q){in.value=q;run();if(go){var t=out.value;if(t)location.replace(t)}}}
function init(){clean.onclick=run;open.onclick=function(){var t=out.value;if(t)location.href=t};in.oninput=run;document.getElementById('bm').href="javascript:(function(){try{var u=new URL(location.href);var kill=['fbclid','gclid','mc_cid','mc_eid','igshid','vero_id','wickedid','msclkid'];u.hash='';u.searchParams.forEach(function(v,k){if(k.indexOf('utm_')===0||kill.indexOf(k)>-1)u.searchParams.delete(k)});location.replace(u.toString())}catch(e){alert('Kein gültiger Link')}})()";auto()}
if(document.readyState!=='loading')init();else document.addEventListener('DOMContentLoaded',init);
</script>