<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>SafeShare App – Tracking-Parameter aus Links entfernen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="SafeShare-App: Füge einen Link ein, entferne typische Tracking-Parameter (UTM, gclid, fbclid …) und erhalte eine sauberere URL zum Teilen – direkt im Browser.">

  <!-- Canonical -->
  <link rel="canonical" href="https://j-ai-71.github.io/Supersystem/app.html">

  <!-- Favicon / Logo -->
  <link rel="icon" href="logo.svg" type="image/svg+xml">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="SafeShare App – Tracking-Parameter aus Links entfernen">
  <meta property="og:description" content="Web-App für Link-Hygiene: Tracking-Parameter aus Links entfernen, bevor du sie teilst – ohne Konto und ohne zusätzliche Tracker.">
  <meta property="og:url" content="https://j-ai-71.github.io/Supersystem/app.html">
  <meta property="og:site_name" content="SafeShare">
  <meta property="og:image" content="https://j-ai-71.github.io/Supersystem/social-preview.svg">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="SafeShare App – Tracking-Parameter aus Links entfernen">
  <meta name="twitter:description" content="Paste URL, clean, share – SafeShare hilft dir, Links ohne typische Tracking-Parameter zu teilen.">
  <meta name="twitter:image" content="https://j-ai-71.github.io/Supersystem/social-preview.svg">

  <!-- Verifikation -->
  <meta name="google-site-verification" content="KFkKxZrXyKiS_KzE0YwkYAeXoLNKtQGjbeg9ocdBiOY">
  <meta name="msvalidate.01" content="7BD74FEEFCA9C7B540613485C050EFF8">

  <style>
  :root {
    --bg: #020308;
    --fg: #f3f5ff;
    --accent: #3dd5b0;
    --accent-soft: #8be5ca;
    --muted: #9aa0b7;
  }

  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    font-family: -apple-system, system-ui, BlinkMacSystemFont, "SF Pro Text", sans-serif;
    background: #050814;
    color: var(--fg);
  }

  a {
    color: var(--accent-soft);
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }

  .container {
    max-width: 960px;
    margin: 0 auto;
    padding: 1.5rem 1.25rem 3rem;
  }

  .site-header {
    border-bottom: 1px solid rgba(255,255,255,0.06);
    background: rgba(2,3,8,0.9);
    backdrop-filter: blur(16px);
    position: sticky;
    top: 0;
    z-index: 10;
  }

  .header-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .brand {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .brand-mark img {
    width: 32px;
    height: 32px;
    display: block;
  }

  .brand-title {
    font-weight: 600;
  }

  .brand-subtitle {
    display: block;
    font-size: 0.78rem;
    color: var(--muted);
  }

  .site-nav a {
    margin-left: 1rem;
    font-size: 0.9rem;
  }
  .site-nav a.active {
    color: var(--accent);
  }

  .page-main {
    padding-top: 1.5rem;
  }

  .app-shell {
    margin-top: 1.5rem;
    display: grid;
    grid-template-columns: minmax(0, 3fr) minmax(0, 2fr);
    gap: 1.75rem;
    align-items: flex-start;
  }

  .app-panel {
    border-radius: 1rem;
    border: 1px solid rgba(255,255,255,0.08);
    background: radial-gradient(circle at 0 0, rgba(61,213,176,0.15), transparent 60%),
                #020308;
    padding: 1.25rem 1.2rem 1.2rem;
  }

  .app-panel h1 {
    font-size: 1.4rem;
    margin: 0 0 0.35rem;
  }

  .app-panel p.lead {
    color: var(--muted);
    margin-bottom: 0.85rem;
  }

  .input-label {
    font-size: 0.85rem;
    color: var(--muted);
    margin-bottom: 0.35rem;
  }

  .input-row {
    display: flex;
    gap: 0.4rem;
    margin-bottom: 0.5rem;
  }

  .url-input {
    flex: 1;
    min-height: 3rem;
    border-radius: 0.7rem;
    border: 1px solid rgba(255,255,255,0.16);
    padding: 0.6rem 0.75rem;
    font-size: 0.9rem;
    background: #050814;
    color: var(--fg);
    resize: vertical;
  }

  .url-input::placeholder {
    color: rgba(154,160,183,0.8);
  }

  .btn {
    display: inline-block;
    padding: 0.55rem 1.1rem;
    border-radius: 999px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    border: none;
  }

  .btn-primary {
    background: var(--accent);
    color: #020308;
  }
  .btn-primary:hover {
    filter: brightness(1.05);
  }

  .btn-ghost {
    border: 1px solid rgba(255,255,255,0.3);
    background: transparent;
    color: var(--fg);
  }

  .btn-small {
    font-size: 0.8rem;
    padding: 0.3rem 0.7rem;
  }

  .result-box {
    margin-top: 0.9rem;
    padding: 0.8rem 0.9rem;
    border-radius: 0.8rem;
    background: rgba(5,8,20,0.9);
    border: 1px solid rgba(255,255,255,0.08);
    font-size: 0.9rem;
  }

  .result-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .result-url {
    flex: 1;
    word-break: break-all;
  }

  .result-label {
    font-size: 0.8rem;
    color: var(--muted);
    margin-bottom: 0.2rem;
  }

  .result-actions {
    margin-top: 0.5rem;
  }

  .app-meta {
    margin-top: 0.6rem;
    font-size: 0.78rem;
    color: var(--muted);
  }

  .app-side {
    font-size: 0.9rem;
  }

  .app-side h2 {
    font-size: 1.1rem;
    margin-top: 0;
  }

  .app-side p {
    color: var(--muted);
  }

  .app-side ul {
    margin: 0.35rem 0 0.75rem;
    padding-left: 1.1rem;
  }

  .section-alt {
    background: rgba(255,255,255,0.02);
    border-radius: 1rem;
    border: 1px solid rgba(255,255,255,0.06);
    padding: 1.25rem 1.2rem 1.3rem;
    margin-top: 2rem;
  }

  .section-alt p {
    color: var(--fg);
  }

  .section-alt ul {
    margin: 0.6rem 0 0.9rem;
    padding-left: 1.1rem;
    font-size: 0.9rem;
  }

  .section-alt .highlight {
    margin-top: 0.5rem;
    color: var(--accent-soft);
    font-size: 0.9rem;
  }

  .section-links {
    margin-top: 2rem;
  }

  .section-links h2 {
    font-size: 1.2rem;
    margin-bottom: 0.4rem;
  }

  .section-links p {
    color: var(--muted);
    margin-bottom: 0.8rem;
  }

  .link-list {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 1rem;
  }

  .link-card {
    border-radius: 0.9rem;
    border: 1px solid rgba(255,255,255,0.06);
    padding: 0.85rem 0.95rem;
    background: rgba(2,3,8,0.9);
    font-size: 0.9rem;
  }

  .link-card h3 {
    font-size: 0.96rem;
    margin: 0 0 0.3rem;
  }

  .link-card p {
    color: var(--muted);
    margin: 0;
  }

  .site-footer {
    border-top: 1px solid rgba(255,255,255,0.06);
    padding: 0.75rem 0 1.5rem;
    font-size: 0.8rem;
    color: var(--muted);
    background: #020308;
  }

  .footer-inner {
    max-width: 960px;
    margin: 0 auto;
    padding: 0 1.25rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .footer-right a {
    margin-left: 1rem;
  }

  @media (max-width: 820px) {
    .app-shell {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 720px) {
    .header-inner {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
    }
    .site-nav a {
      margin-left: 0;
      margin-right: 0.75rem;
    }
    .link-list {
      grid-template-columns: 1fr;
    }
  }
  </style>
</head>
<body class="page page-app">
  <header class="site-header">
    <div class="container header-inner">
      <a href="index.html" class="brand">
        <span class="brand-mark">
          <img src="logo.svg" alt="SafeShare Logo">
        </span>
        <span class="brand-text">
          <span class="brand-title">SafeShare</span>
          <span class="brand-subtitle">Links ohne unnötiges Tracking</span>
        </span>
      </a>

      <nav class="site-nav">
        <a href="app.html" class="active">App</a>
        <a href="pro.html">Pro</a>
        <a href="utm-parameter-entfernen.html">UTM entfernen</a>
        <a href="tracking-parameter-entfernen.html">Tracking allgemein</a>
        <a href="url-cleaner-tool-vergleich.html">Tool-Vergleich</a>
        <a href="help.html">Hilfe</a>
      </nav>
    </div>
  </header>

  <main class="page-main">
    <div class="container app-shell">
      <!-- App-Panel -->
      <section class="app-panel">
        <h1>SafeShare-App</h1>
        <p class="lead">
          Füge einen Link ein, entferne typische Tracking-Parameter und erhalte 
          eine sauberere URL zum Teilen – direkt im Browser.
        </p>

        <div class="input-label">
          Schritt 1: Link einfügen (mit allen Parametern)
        </div>
        <textarea id="url-input" class="url-input" rows="3" placeholder="https://example.com/artikel?utm_source=newsletter&amp;utm_medium=email&amp;utm_campaign=sommer&amp;gclid=12345"></textarea>

        <div class="input-row">
          <button id="clean-btn" class="btn btn-primary">Tracking-Parameter entfernen</button>
          <button id="clear-btn" class="btn btn-ghost btn-small">Eingabe leeren</button>
        </div>

        <div id="result-box" class="result-box" hidden>
          <div class="result-label">Bereinigter Link</div>
          <div class="result-row">
            <div id="result-url" class="result-url"></div>
            <button id="copy-btn" class="btn btn-ghost btn-small">Kopieren</button>
            <button id="open-btn" class="btn btn-primary btn-small">Öffnen</button>
          </div>
          <div id="result-note" class="app-meta"></div>
        </div>

        <p class="app-meta">
          Hinweis: SafeShare konzentriert sich auf typische Tracking-Parameter (z.&nbsp;B. UTM, 
          einige Klick-IDs und einfache Redirect-Parameter). Es ist kein vollständiger 
          Sicherheits- oder Werbeblocker.
        </p>
      </section>

      <!-- Seitenleiste -->
      <aside class="app-side">
        <h2>Was SafeShare hier tut – und was nicht</h2>
        <p>
          Diese App ist bewusst einfach gehalten: Sie arbeitet mit der sichtbaren URL, 
          direkt in deinem Browser.
        </p>
        <ul>
          <li>entfernt typische Tracking-Parameter wie <code>utm_*</code>, <code>gclid</code>, <code>fbclid</code></li>
          <li>versucht, offensichtliche Redirect-Parameter wie <code>url</code>, <code>redirect</code>, <code>dest</code> zu erkennen</li>
          <li>folgt <em>nicht</em> automatisch allen Netzwerk-Redirects</li>
          <li>scannt <em>nicht</em> auf Malware oder andere Inhaltsrisiken</li>
        </ul>
        <p>
          Für mehr Hintergrundwissen findest du auf der Website Artikel zu 
          <a href="utm-parameter-entfernen.html">UTM-Parametern</a> und 
          <a href="tracking-parameter-entfernen.html">Tracking-Parametern allgemein</a>.
        </p>
      </aside>
    </div>

    <!-- SafeShare Pro-Hinweis -->
    <section class="section-alt">
      <div class="container">
        <h2>Mehr als nur ein Tool: SafeShare Pro</h2>
        <p>
          Die SafeShare-App bleibt kostenlos. Wenn du Link-Hygiene tiefer in deinen Alltag 
          oder dein Team bringen möchtest, kannst du dir zusätzlich <strong>SafeShare Pro</strong> ansehen.
        </p>
        <ul>
          <li>Materialien &amp; Routinen für Links ohne unnötiges Tracking</li>
          <li>für Einzelpersonen, Newsletter, Blogs, NGOs &amp; kleine Teams</li>
          <li>kein Abo, einmalige Lizenz</li>
        </ul>
        <p class="highlight">
          SafeShare Pro richtet sich an Menschen, die ihre Kontakte als Menschen sehen – 
          nicht nur als Messpunkte in einem Funnel.
        </p>
        <p class="cta-actions">
          <a class="btn btn-primary" href="pro.html">Mehr über SafeShare Pro erfahren</a>
        </p>
      </div>
    </section>

    <!-- SEO-/Hilfelinks -->
    <section class="section-links">
      <div class="container">
        <h2>Mehr über Link-Hygiene</h2>
        <p>
          Wenn du verstehen möchtest, was genau SafeShare entfernt und warum, 
          findest du hier vertiefende Seiten:
        </p>
        <div class="link-list">
          <a class="link-card" href="utm-parameter-entfernen.html">
            <h3>UTM-Parameter entfernen</h3>
            <p>Hintergrundwissen zu UTM-Parametern und warum sie in vielen Links hängen.</p>
          </a>
          <a class="link-card" href="tracking-parameter-entfernen.html">
            <h3>Tracking-Parameter verstehen</h3>
            <p>Was Tracking-Parameter sind, welche Arten es gibt und was du tun kannst.</p>
          </a>
          <a class="link-card" href="url-cleaner-tool-vergleich.html">
            <h3>URL-Cleaner-Tools im Vergleich</h3>
            <p>Wo SafeShare im Vergleich zu anderen Ansätzen steht.</p>
          </a>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-left">
        <span>&copy; Jana Jergus / SafeShare</span>
      </div>
      <div class="footer-right">
        <a href="impressum.html">Impressum</a>
        <a href="datenschutz.html">Datenschutz</a>
      </div>
    </div>
  </footer>

  <!-- App-Logik -->
  <script>
  (function() {
    const inputEl = document.getElementById('url-input');
    const cleanBtn = document.getElementById('clean-btn');
    const clearBtn = document.getElementById('clear-btn');
    const resultBox = document.getElementById('result-box');
    const resultUrlEl = document.getElementById('result-url');
    const resultNoteEl = document.getElementById('result-note');
    const copyBtn = document.getElementById('copy-btn');
    const openBtn = document.getElementById('open-btn');

    const trackingPrefixes = ['utm_', 'utm-', 'mc_', 'pk_'];
    const trackingNames = [
      'gclid', 'dclid', 'fbclid', 'igshid', 'mc_eid'
    ];

    const redirectParams = ['url', 'u', 'redirect', 'redirect_url', 'dest', 'destination', 'target'];

    function isTrackingParam(name) {
      const n = name.toLowerCase();
      if (trackingNames.includes(n)) return true;
      return trackingPrefixes.some(p => n.startsWith(p));
    }

    function decodeMaybeUrl(value) {
      try {
        const decoded = decodeURIComponent(value);
        if (/^https?:\/\//i.test(decoded)) {
          return decoded;
        }
      } catch (e) {}
      return null;
    }

    function cleanUrl(raw) {
      raw = raw.trim();
      if (!raw) return { cleaned: '', info: 'Kein Link eingegeben.' };

      // Fallback: wenn kein Protokoll vorhanden, http annehmen
      let candidate = raw;
      if (!/^https?:\/\//i.test(candidate)) {
        candidate = 'https://' + candidate;
      }

      let url;
      try {
        url = new URL(candidate);
      } catch (e) {
        return { cleaned: raw, info: 'Konnte den Link nicht eindeutig analysieren. Original belassen.' };
      }

      // Redirect-Parameter prüfen
      let unwrapped = null;
      for (const pname of redirectParams) {
        if (url.searchParams.has(pname)) {
          const value = url.searchParams.get(pname) || '';
          const decodedCandidate = decodeMaybeUrl(value) || value;
          if (/^https?:\/\//i.test(decodedCandidate)) {
            unwrapped = decodedCandidate;
            break;
          }
        }
      }

      if (unwrapped) {
        try {
          url = new URL(unwrapped);
        } catch (e) {
          // wenn das fehlschlägt, bleiben wir bei der ursprünglichen URL
        }
      }

      const params = url.searchParams;
      const removed = [];

      // neue URLSearchParams aufbauen, um gezielt zu filtern
      const newParams = new URLSearchParams();
      params.forEach((value, name) => {
        if (isTrackingParam(name)) {
          removed.push(name);
        } else {
          newParams.append(name, value);
        }
      });

      const cleaned = new URL(url.origin + url.pathname);
      // nur anhängen, wenn noch Parameter übrig sind
      if ([...newParams.keys()].length > 0) {
        cleaned.search = newParams.toString();
      }
      cleaned.hash = url.hash;

      let info;
      if (unwrapped && removed.length > 0) {
        info = 'Es wurden Tracking-Parameter entfernt und eine offensichtliche Weiterleitung aufgelöst.';
      } else if (unwrapped) {
        info = 'Es wurde eine offensichtliche Weiterleitung aufgelöst.';
      } else if (removed.length > 0) {
        info = 'Es wurden typische Tracking-Parameter entfernt: ' + removed.join(', ') + '.';
      } else {
        info = 'Es wurden keine typischen Tracking-Parameter gefunden. Link wurde nur leicht normalisiert.';
      }

      return { cleaned: cleaned.toString(), info };
    }

    function handleClean() {
      const raw = inputEl.value;
      const { cleaned, info } = cleanUrl(raw);
      if (!raw.trim()) {
        resultBox.hidden = true;
        return;
      }
      resultUrlEl.textContent = cleaned;
      resultNoteEl.textContent = info;
      resultBox.hidden = false;
    }

    function handleClear() {
      inputEl.value = '';
      resultBox.hidden = true;
    }

    function handleCopy() {
      const text = resultUrlEl.textContent || '';
      if (!text) return;
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).catch(() => {});
      } else {
        const tmp = document.createElement('textarea');
        tmp.value = text;
        document.body.appendChild(tmp);
        tmp.select();
        try { document.execCommand('copy'); } catch (e) {}
        document.body.removeChild(tmp);
      }
    }

    function handleOpen() {
      const text = resultUrlEl.textContent || '';
      if (!text) return;
      window.open(text, '_blank', 'noopener');
    }

    cleanBtn.addEventListener('click', handleClean);
    clearBtn.addEventListener('click', handleClear);
    copyBtn.addEventListener('click', handleCopy);
    openBtn.addEventListener('click', handleOpen);

    // Enter als "Clean" im Textfeld (nur wenn keine neue Zeile gewollt)
    inputEl.addEventListener('keydown', function(ev) {
      if (ev.key === 'Enter' && (ev.metaKey || ev.ctrlKey)) {
        ev.preventDefault();
        handleClean();
      }
    });

    // ?url=-Parameter verarbeiten
    (function handleUrlParam() {
      try {
        const params = new URLSearchParams(window.location.search);
        const fromParam = params.get('url');
        if (fromParam) {
          const maybeDecoded = decodeURIComponent(fromParam);
          inputEl.value = maybeDecoded || fromParam;
          handleClean();
        }
      } catch (e) {
        // still
      }
    })();
  })();
  </script>

  <!-- SoftwareApplication-Schema (App-Seite) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "SafeShare",
    "operatingSystem": "Any",
    "applicationCategory": "UtilitiesApplication",
    "description": "SafeShare ist eine Web-App, mit der du typische Tracking-Parameter aus Links entfernen und offensichtliche Weiterleitungen sichtbarer machen kannst – direkt im Browser.",
    "url": "https://j-ai-71.github.io/Supersystem/app.html",
    "publisher": {
      "@type": "Person",
      "name": "Jana Jergus"
    }
  }
  </script>
</body>
</html>
